---
title: 2-2 Create Docker Image
sidebar_position: 2
---

# 2-2 Create an Image using Dockerfile

A **Docker image** is a package that contains everything needed to run an app. It includes code, libraries, and settings. When you run it, it creates a Docker container. It ensures the app works the same everywhere.

The easiest way to create a Ubuntu container with everything you need to build the Board Support Package is to use a "dockerfile" created by Renesas.

---

## Step 1: Download the correct dockerfile
To create an "Image", we will use a dockerfile which is a set of commands that will set up our container for us.

You can use this command to downlaod Dockerfile.rz_ubuntu-20.04 using this command line.

```bash title="download dockerfile"
wget https://raw.githubusercontent.com/renesas-rz/docker_setup/master/Dockerfile.rz_ubuntu-20.04
```

```bash title="download packages"
apt-get install -y gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential chrpath socat cpio python python3 python3-pip python3-pexpect xz-utils debianutils iputils-ping libsdl1.2-dev xterm p7zip-full libyaml-dev libssl-dev bmap-tools
```

**OR**

Click [here](./packages/Dockerfile.rzg_ubuntu-20.04) to download it.

## Step 2: Build an Image
Before we can use docker to build our BSP, we first we need to build an docker "Image". We will use a default Ubuntu image from Docker Hub as the staring point. 

Enter the command below in Ubuntu's Terminal.

```bash
docker build --no-cache \
  --build-arg "host_uid=$(id -u)" \
  --build-arg "host_gid=$(id -g)" \
  --build-arg "USERNAME=$USER" \
  --build-arg "TZ_VALUE=$(cat /etc/timezone)" \
  --tag rz_ubuntu-20.04 \
  --file Dockerfile.rz_ubuntu-20.04  .
```

You may change the --tag name "rz_ubuntu-20.04" to whatever you want.

Confirm your image was created.

```bash 
$ docker images
```

```
REPOSITORY           TAG       IMAGE ID       CREATED          SIZE
rz_ubuntu-20.04      latest    960cf1be32b0   57 seconds ago   
```

## Step 3: Start a Container using our Image
Now that we have created our docker image, we can start a container based off that image.

```bash
mkdir -p /home/$USER/rzg2l
```

```bash
docker run -it \
  --name=rzg2l \
  --volume="/home/$USER/rzg2l:/home/$USER/rzg2l" \
  --workdir="/home/$USER" \
  rzg2l_ubuntu-20.04
```

You will now be running in a command line shell inside your container.

`user@(docker)$ `

Now exit (stop) your container by typing

```bash
 exit
``` 

:::note[Parameters]
- `docker run`: Run a processes in isolated container
- `-it`: Starts a command shell inside your container that you can interact with
- `--name`: Chooses a name for your container
- `--volume`: Choose a directory on your host machine that you want to map inside your container to use as your shared directory
- `--workdir`: Choose a default directory where you want to start inside your container, for example your shared directory
:::
