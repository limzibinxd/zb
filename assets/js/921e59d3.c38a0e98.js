"use strict";(self.webpackChunkmy_tutorial=self.webpackChunkmy_tutorial||[]).push([[5365],{2836:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"week2/2-3","title":"2-3 Yocto Build","description":"Step 1: Download Renesas VLP packages","source":"@site/docs/week2/2-3.md","sourceDirName":"week2","slug":"/week2/2-3","permalink":"/zb/docs/week2/2-3","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/week2/2-3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"2-3 Yocto Build","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"2-2 Using your Container","permalink":"/zb/docs/week2/2-2"},"next":{"title":"2-4 Build Weston and Qt Images","permalink":"/zb/docs/week2/2-4"}}');var s=t(4848),r=t(8453);const i={title:"2-3 Yocto Build",sidebar_position:3},c=void 0,l={},d=[{value:"Step 1: Download Renesas VLP packages",id:"step-1-download-renesas-vlp-packages",level:3},{value:"Step 2: Copy the Downloaded packages",id:"step-2-copy-the-downloaded-packages",level:3},{value:"Step 3: Extract the Unzipped files",id:"step-3-extract-the-unzipped-files",level:3},{value:"Step 4: Apply Patch files",id:"step-4-apply-patch-files",level:3}];function o(e){const a={a:"a",br:"br",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h3,{id:"step-1-download-renesas-vlp-packages",children:"Step 1: Download Renesas VLP packages"}),"\n",(0,s.jsxs)(a.p,{children:["We need to download some zip files for the Yocto build. You can find the items to download ",(0,s.jsx)(a.a,{href:"https://www.renesas.com/en/products/microcontrollers-microprocessors/rz-mpus/rzg-linux-platform/rzg-marketplace/verified-linux-package/rzg-verified-linux-package#Download",children:"here"})]}),"\n",(0,s.jsx)(a.p,{children:"These are the packages and patch files that you need to install:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://tianhom0919.github.io/tianhom/assets/files/RTK0EF0045Z0021AZJ-v3.0.6-update3-6aff770b8db6a4c1181973f8e6d97d80.zip",children:"RTK0EF0045Z0021AZJ-v3.0.6-update3.zip"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://tianhom0919.github.io/tianhom/assets/files/RTK0EF0045Z13001ZJ-v1.2.2_EN-9a1e71b8d5ed5d81bb8ade36d31ca786.zip",children:"RTK0EF0045Z13001ZJ-v1.2.2_EN.zip"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://tianhom0919.github.io/tianhom/assets/files/RTK0EF0045Z15001ZJ-v1.2.2_EN-4dcf6120c3d1b7ab2a386332ec63a1e3.zip",children:"RTK0EF0045Z15001ZJ-v1.2.2_EN.zip"})}),"\n"]}),"\n",(0,s.jsx)(a.h3,{id:"step-2-copy-the-downloaded-packages",children:"Step 2: Copy the Downloaded packages"}),"\n",(0,s.jsxs)(a.p,{children:["Enter the ",(0,s.jsx)(a.code,{children:"rz_ubuntu-20.04"})," Dev container, copy the zip files under ",(0,s.jsx)(a.code,{children:"yocto"})," directory.",(0,s.jsx)(a.br,{}),"\n","Unzip the ",(0,s.jsx)(a.code,{children:".zip"})," files."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"unzip RTK0EF0045Z0021AZJ-v3.0.6-update3.zip\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"unzip RTK0EF0045Z13001ZJ-v1.2.2_EN.zip\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"unzip RTK0EF0045Z15001ZJ-v1.2.2_EN.zip\n"})}),"\n",(0,s.jsx)(a.h3,{id:"step-3-extract-the-unzipped-files",children:"Step 3: Extract the Unzipped files"}),"\n",(0,s.jsx)(a.p,{children:"Create a new directory in your Dev Container and enter it."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"mkdir yocto\ncd yocto\n"})}),"\n",(0,s.jsxs)(a.p,{children:["Extract the ",(0,s.jsx)(a.code,{children:".tar.gz"})," files."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"tar zxvf ../RTK0EF0045Z0021AZJ-v3.0.6-update3/rzg_vlp_v3.0.6.tar.gz\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"tar zxvf ../RTK0EF0045Z13001ZJ-v1.2.2_EN/meta-rz-features_graphics_v1.2.2.tar.gz\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"tar zxvf ../RTK0EF0045Z15001ZJ-v1.2.2_EN/meta-rz-features_codec_v1.2.2.tar.gz\n"})}),"\n",(0,s.jsx)(a.p,{children:"List out the files in the working directory to verify the package contents."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"ls -l\n"})}),"\n",(0,s.jsx)(a.p,{children:"If the output is as follows, the packages are installed correctly."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"extra  \nmeta-gplv2   \nmeta-openembedded  \nmeta-qt5  \nmeta-renesas  \nmeta-rz-features  \nmeta-virtualization  \npoky\n"})}),"\n",(0,s.jsx)(a.h3,{id:"step-4-apply-patch-files",children:"Step 4: Apply Patch files"}),"\n",(0,s.jsx)(a.p,{children:"Apply a patch file to update vlp to update3."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"sudo apt-get install patch\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"patch -p1 < ../RTK0EF0045Z0021AZJ-v3.0.6-update3/vlpg306-to-vlpg306update3.patch\n"})}),"\n",(0,s.jsx)(a.p,{children:"Move to the meta-renesas directory, apply patch file extras."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"cd meta-renesas\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"patch -p1 < ../extra/0001-rz-common-recipes-debian-buster-glibc-update-to-v2.2.patch\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"patch -p1 < ../extra/0001-rz-common-linux-update-linux-kernel-to-the-latest-re.patch\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"patch -p1 < ../extra/0001-rz-common-gst-plugins-bad-Depending-bayer2raw-if-lay.patch\n"})}),"\n",(0,s.jsx)(a.p,{children:"Move back the working directory."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",metastring:'title="Apply a patch file to add the GStreamer Moil Plugin."',children:"patch -p1 < 0001-gstreamer-moil-plugin.patch\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",metastring:'title="Apply a patch file to fix the Qt Smart Home URL."',children:"patch -p1 < 0002-fix_qtsmarthome_url.patch\n"})})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,a,t)=>{t.d(a,{R:()=>i,x:()=>c});var n=t(6540);const s={},r=n.createContext(s);function i(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);