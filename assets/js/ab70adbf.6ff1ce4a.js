"use strict";(self.webpackChunkmy_tutorial=self.webpackChunkmy_tutorial||[]).push([[2776],{644:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"week2/2-1","title":"2-1 Create an Image using a Dockerfile","description":"The easiest way to create a Ubuntu container with everything you need to build the BSP is to use a \\"dockerfile\\" created by Renesas.","source":"@site/docs/week2/2-1.md","sourceDirName":"week2","slug":"/week2/2-1","permalink":"/zb/docs/week2/2-1","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/week2/2-1.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"2-1 Create an Image using a Dockerfile","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"1-4 Docusaurus Website Setup","permalink":"/zb/docs/week1/1-6"},"next":{"title":"2-2 Using your Container","permalink":"/zb/docs/week2/2-2"}}');var a=t(4848),o=t(8453);const i={title:"2-1 Create an Image using a Dockerfile",sidebar_position:1},s=void 0,c={},u=[{value:"Step 1: Download the correct dockerfile",id:"step-1-download-the-correct-dockerfile",level:3},{value:"Step 2: Build an Image",id:"step-2-build-an-image",level:3},{value:"Step 3: Start a Container using our Image",id:"step-3-start-a-container-using-our-image",level:3}];function d(e){const n={code:"code",div:"div",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:'The easiest way to create a Ubuntu container with everything you need to build the BSP is to use a "dockerfile" created by Renesas.'}),"\n",(0,a.jsx)(n.h3,{id:"step-1-download-the-correct-dockerfile",children:"Step 1: Download the correct dockerfile"}),"\n",(0,a.jsx)(n.p,{children:'To create an "Image", we will use a dockerfile which is a set of commands that will set up our container for us.'}),"\n",(0,a.jsx)(n.p,{children:"You can use this command to downlaod Dockerfile.rzg_ubuntu-20.04 using this command line."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"wget https://raw.githubusercontent.com/renesas-rz/docker_setup/master/Dockerfile.rzg_ubuntu-20.04\n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-2-build-an-image",children:"Step 2: Build an Image"}),"\n",(0,a.jsx)(n.p,{children:'Before we can use docker to build our BSP, we first we need to build an docker "Image". We will use a default Ubuntu image from Docker Hub as the staring point.'}),"\n",(0,a.jsx)(n.p,{children:"Enter the command below in Ubuntu's Terminal."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'docker build --no-cache \\\r\n  --build-arg "host_uid=$(id -u)" \\\r\n  --build-arg "host_gid=$(id -g)" \\\r\n  --build-arg "USERNAME=$USER" \\\r\n  --build-arg "TZ_VALUE=$(cat /etc/timezone)" \\\r\n  --tag rz_ubuntu-20.04 \\\r\n  --file Dockerfile.rzg_ubuntu-20.04  .\n'})}),"\n",(0,a.jsx)(n.p,{children:'You may change the --tag name "rz_ubuntu-20.04" to whatever you want.'}),"\n",(0,a.jsx)(n.p,{children:"Confirm your image was created."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ docker images\r\nREPOSITORY           TAG       IMAGE ID       CREATED          SIZE\r\nrz_ubuntu-20.04      latest    960cf1be32b0   57 seconds ago   \n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-3-start-a-container-using-our-image",children:"Step 3: Start a Container using our Image"}),"\n",(0,a.jsx)(n.p,{children:"Now that we have created our docker image, we can start a container based off that image."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'mkdir -p /home/$USER/yocto\r\n\r\ndocker run -it \\\r\n  --name=my_container_for_20.04 \\\r\n  --volume="/home/$USER/yocto:/home/$USER/yocto" \\\r\n  --workdir="/home/$USER" \\\r\n  rz_ubuntu-20.04\n'})}),"\n",(0,a.jsx)(n.div,{}),"\n",(0,a.jsx)(n.p,{children:"You will now be running in a command line shell inside your container."}),"\n",(0,a.jsx)(n.p,{children:'Now exit (stop) your container by typing "exit".'}),"\n",(0,a.jsx)(n.p,{children:"ret@(docker)$"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:" exit\n"})})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var r=t(6540);const a={},o=r.createContext(a);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);