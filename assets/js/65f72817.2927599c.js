"use strict";(self.webpackChunkmy_tutorial=self.webpackChunkmy_tutorial||[]).push([[4639],{1661:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/stream_test-b94d8177d7ba9ef295b4ad41a0ef7334.mp4"},3319:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/3-3-1-16672ac660cfa77ab8835c43489b0b71.png"},5060:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"mcut-tutorial/week-3/3-3","title":"3-3 Develop GStreamer Plugins","description":"GStreamer plugins are modular components that extend the functionality of the GStreamer multimedia framework by providing specific capabilities like data sources, filters, encoders, decoders, and sinks. Each plugin contains one or more elements that perform a particular task, such as reading from a file, decoding video, applying effects, or streaming media over a network.","source":"@site/docs/mcut-tutorial/week-3/3-3.md","sourceDirName":"mcut-tutorial/week-3","slug":"/mcut-tutorial/week-3/3-3","permalink":"/zb/docs/mcut-tutorial/week-3/3-3","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/mcut-tutorial/week-3/3-3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"3-3 Develop GStreamer Plugins","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"3-2 Generate Mapping Files","permalink":"/zb/docs/mcut-tutorial/week-3/3-2"},"next":{"title":"3-4 Try a Gstreamer Project","permalink":"/zb/docs/mcut-tutorial/week-3/3-4"}}');var i=n(4848),a=n(8453);const s={title:"3-3 Develop GStreamer Plugins",sidebar_position:3},l="3-3 Developing GStreamer Plugins",o={},c=[{value:"Step 1: Installing GStreamer",id:"step-1-installing-gstreamer",level:2},{value:"Step 2: Try &#39;Hello World&#39; Program",id:"step-2-try-hello-world-program",level:2}];function d(e){const t={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"3-3-developing-gstreamer-plugins",children:"3-3 Developing GStreamer Plugins"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"GStreamer plugins"})," are modular components that extend the functionality of the GStreamer multimedia framework by providing specific capabilities like data sources, filters, encoders, decoders, and sinks. Each plugin contains one or more elements that perform a particular task, such as reading from a file, decoding video, applying effects, or streaming media over a network."]}),"\n",(0,i.jsxs)(t.p,{children:["Plugins are categorized into groups like ",(0,i.jsx)(t.em,{children:"base, good, bad,"})," and ",(0,i.jsx)(t.em,{children:"ugly"})," based on their quality, licensing, and stability. They allow developers to create complex media pipelines by combining elements dynamically, making GStreamer highly flexible and extensible for diverse multimedia applications."]}),"\n",(0,i.jsx)(t.p,{children:"The image below shows how GStreamer elements are linked as a pipeline."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Pipeline",src:n(3319).A+"",width:"1000",height:"350"})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"step-1-installing-gstreamer",children:"Step 1: Installing GStreamer"}),"\n",(0,i.jsx)(t.p,{children:"To install GStreamer on Ubuntu 22.04, use the following command:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"sudo apt install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgstreamer-plugins-bad1.0-dev gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio\n"})}),"\n",(0,i.jsx)(t.h2,{id:"step-2-try-hello-world-program",children:"Step 2: Try 'Hello World' Program"}),"\n",(0,i.jsx)(t.p,{children:"Try out this Hello World tutorial below by creating a program named 'basic-tutorial-1.c`."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-c",metastring:'title="basic-tutorial-1.c"',children:'#include <gst/gst.h>\n\n#ifdef __APPLE__\n#include <TargetConditionals.h>\n#endif\n\nint\ntutorial_main (int argc, char *argv[])\n{\n  GstElement *pipeline;\n  GstBus *bus;\n  GstMessage *msg;\n\n  /* Initialize GStreamer */\n  gst_init (&argc, &argv);\n\n  /* Build the pipeline */\n  pipeline =\n      gst_parse_launch\n      ("playbin uri=https://gstreamer.freedesktop.org/data/media/sintel_trailer-480p.webm",\n      NULL);\n\n  /* Start playing */\n  gst_element_set_state (pipeline, GST_STATE_PLAYING);\n\n  /* Wait until error or EOS */\n  bus = gst_element_get_bus (pipeline);\n  msg =\n      gst_bus_timed_pop_filtered (bus, GST_CLOCK_TIME_NONE,\n      GST_MESSAGE_ERROR | GST_MESSAGE_EOS);\n\n  /* See next tutorial for proper error message handling/parsing */\n  if (GST_MESSAGE_TYPE (msg) == GST_MESSAGE_ERROR) {\n    g_printerr ("An error occurred! Re-run with the GST_DEBUG=*:WARN "\n        "environment variable set for more details.\\n");\n  }\n\n  /* Free resources */\n  gst_message_unref (msg);\n  gst_object_unref (bus);\n  gst_element_set_state (pipeline, GST_STATE_NULL);\n  gst_object_unref (pipeline);\n  return 0;\n}\n\nint\nmain (int argc, char *argv[])\n{\n#if defined(__APPLE__) && TARGET_OS_MAC && !TARGET_OS_IPHONE\n  return gst_macos_main ((GstMainFunc) tutorial_main, argc, argv, NULL);\n#else\n  return tutorial_main (argc, argv);\n#endif\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"Compile it by using the command below:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"gcc basic-tutorial-1.c -o basic-tutorial-1 `pkg-config --cflags --libs gstreamer-1.0`\n"})}),"\n",(0,i.jsx)(t.p,{children:"If everything is built correctly, you may run the executable. You should see a window pop up, containing a video being played straight from the Internet, along with audio."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(1661).A+""})}),"\n",(0,i.jsx)("div",{children:(0,i.jsx)("video",{width:"100%",height:"100%",playsinline:!0,autoplay:!0,muted:!0,controls:!0,children:(0,i.jsx)("source",{src:"video/stream_test.mp4",type:"video/mp4"})})}),"\n",(0,i.jsxs)(t.admonition,{title:"Feel free to play around by adding more parameters and observe the output!",type:"tip",children:[(0,i.jsx)(t.p,{children:"Examples:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"gst-inspect-1.0 geometrictransform\n"})}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"gst-inspect-1.0 circle\n"})}),(0,i.jsx)(t.p,{children:"The commands above will show information such as the source module, plugin and element."}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"gst-launch-1.0 videotestsrc pattern=0 ! autovideosink\n"})}),(0,i.jsxs)(t.p,{children:["Different patterns can be generated by adjusting the ",(0,i.jsx)(t.code,{children:"pattern"})," parameter from 0 to 25."]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"gst-launch-1.0 videotestsrc ! video/x-raw, width=1920, height=1080 ! videoconvert ! circle ! videoconvert ! autovideosink \n"})})]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>l});var r=n(6540);const i={},a=r.createContext(i);function s(e){const t=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);